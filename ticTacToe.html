<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>
  <body>
    <script src="node_modules/jquery/dist/jquery.js"></script>
    <script src="ticTacToe.js"></script>

    <!-- • Using any of the tools you’ve worked with so far, create a game of Tic-Tac-Toe.
    ◦ Create a Tic-Tac-Toe game grid using your HTML element of choice. 
    ◦ When a cell in the grid is clicked, an X or O should appear in that spot depending on whose turn it is.
    ◦ A heading should say whether it is X’s or O’s turn and change with each move made.
    ◦ A button should be available to clear the grid and restart the game.
    ◦ When a player has won, or the board is full and the game results in a draw, a Bootstrap alert or similar Bootstrap component should appear across the screen announcing the winner. -->

    <h1 id="playerDeclaration"></h1>

    <div id="myDIV">
      <div id="div1"></div>
      <div id="div2"></div>
      <div id="div3"></div>
      <div id="div4"></div>
      <div id="div5"></div>
      <div id="div6"></div>
      <div id="div7"></div>
      <div id="div8"></div>
      <div id="div9"></div>
    </div>

    <script>
      // 1. add an eventlistener
      // make a click counter to record the number of clicks use even and odd to determine player
      // 2. id the div that is clicked use the id to determine where to place X or O and to compare boxes for win
      // 3. create a method that compares the value in the rows in winning combos (123, 456, 789, 159, 257) and out put the winner when the 3 values are the same if(getElementbyId(div1).value == getElementById(div2).value && ......
      // 3. or make a variable = to each div and compare with less typing. or use jquery
      // 3. could make a loop that iterates through all the divs and compares[0], [1], [2]; [3], [4], [5]; [6], [7], [8]; [0], [4], [8]; [2], [3], [6];
      // document.addEventListener("click", counter);
      let count = 0;
      let playerNumber = 0;
      let playerXorO = "";
      let clickedId = null;

      declarePlayer();

      const container = document.getElementById("myDIV");
      container.addEventListener("click", handleClick);

      function counter() {
        count++;

        console.log({ count, playerNumber, playerXorO });
        declarePlayer();
      }

      function declarePlayer() {
        //this function is called at the end and should display an X to start game this also needs to change
        //  with every click
        // let playerXorO = "";       //commented out for now
        if (count % 2 === 0) {
          //uses the click counter to assign X to even clicks and O to odd clicks
          playerXorO = "X";
          playerNumber = 1;
        } else {
          playerXorO = "O";
          playerNumber = 2;
        }
        document.getElementById("playerDeclaration").innerHTML =
          "Player: " + playerNumber + " Plays an " + playerXorO;

        // console.log(
        //   "count:",
        //   count + "\nplayer#:",
        //   playerNumber + "\nX's or O's",
        //   playerXorO
        // );
      }

      // let count = 0;

      //let clickedBox = "";
      //function idGridBox(){                 //want to id the box that is clicked and use
      // the id to populate the following function to add
      //value to the box

      // JavaScript code

      function handleClick(event) {
        //debugger;
        const clickedElement = event.target;
        const clickedId = clickedElement.getAttribute("id");
        console.log("Clicked element:", clickedElement);
        console.log("\nThe ID of the box clicked is: ", clickedId);
        // add the X or O to the div that is id'd
        clickedId = clickedId;
        addXorO(clickedId);
        counter();

        declarePlayer();
      }
      console.log("new log of clicked id: " + clickedId);

      function addXorO(clickedId) {
        //uses the above method to identify the box being clicked,
        // adds an X or O depending on the output in the h1
        console.log(document.getElementById(clickedId));
        if (document.getElementById(clickedId).value === "") {
          //checks to see if
          //anything is already in the box before adding X or O
          document.getElementById(clickedId).innerHTML = playerXorO; //add the current
          // player: X or O to the header
        }
        // console.log(
        //   "addXorO function ID call: " +
        //     clickedId +
        //     "\nX or O letiable:" +
        //     playerXorO
        // );
      }

      let allBoxes = [];
      function declareWinner() {
        let divId = "div" + [i];
        for (let i = 1; (i = 9); i++) {
          //     allBoxes.push(getElementById(divId).value)// want to iterated through each div in order and push the value into allBoxes array, hoping to use the
          //[i] to create each id example div1, div2, div3....
        }
        //for(let i = 0; i < allBoxes.length; i++){ // don't think I need this loop. just conditionals
        if (allBoxes[0] === allBoxes[1] && allBoxes[2] === allBoxes[1]) {
          console.log("Player ", playerNumber, "Wins");
          document.removeEventListener(
            "click",
            counter,
            declarePlayer,
            idGridBox,
            addXorO
          );
        } else if (allBoxes[3] === allBoxes[4] && allBoxes[5] === allBoxes[4]) {
          console.log("Player ", playerNumber, "Wins");
          document.removeEventListener(
            "click",
            counter,
            declarePlayer,
            idGridBox,
            addXorO
          );
        } else if (allBoxes[6] === allBoxes[7] && allBoxes[8] === allBoxes[7]) {
          console.log("Player ", playerNumber, "Wins");
          document.removeEventListener(
            "click",
            counter,
            declarePlayer,
            idGridBox,
            addXorO
          );
        } else if (allBoxes[0] === allBoxes[4] && allBoxes[8] === allBoxes[4]) {
          console.log("Player ", playerNumber, "Wins");
          document.removeEventListener(
            "click",
            counter,
            declarePlayer,
            idGridBox,
            addXorO
          );
        } else if (allBoxes[2] === allBoxes[4] && allBoxes[6] === allBoxes[4]) {
          console.log("Player ", playerNumber, "Wins");
          document.removeEventListener(
            "click",
            counter,
            declarePlayer,
            idGridBox,
            addXorO
          );
        }
      }
    </script>
  </body>
</html>
